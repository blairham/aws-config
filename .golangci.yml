linters-settings:
  dupl:
    threshold: 100
  funlen:
    lines: 120
    statements: 50
  goconst:
    min-len: 2
    min-occurrences: 3
  gocritic:
    enabled-tags:
    - diagnostic
    - experimental
    - opinionated
    - performance
    - style
    disabled-checks:
    - dupImport # https://github.com/go-critic/go-critic/issues/845
    - ifElseChain
    - octalLiteral
    - whyNoLint
  gocyclo:
    min-complexity: 25
  goimports:
    local-prefixes: github.com/golangci/golangci-lint
  # gomnd:
  #   # don't include the "operation" and "assign"
  #   checks:
  #   - argument
  #   - case
  #   - condition
  #   - return
  #   ignored-numbers:
  #   - '0'
  #   - '1'
  #   - '2'
  #   - '3'
  #   ignored-functions:
  #   - strings.SplitN

  govet:
    # check-shadowing: true
    settings:
      printf:
        funcs:
        - (github.com/golangci/golangci-lint/pkg/logutils.Log).Infof
        - (github.com/golangci/golangci-lint/pkg/logutils.Log).Warnf
        - (github.com/golangci/golangci-lint/pkg/logutils.Log).Errorf
        - (github.com/golangci/golangci-lint/pkg/logutils.Log).Fatalf
  lll:
    line-length: 170
  misspell:
    locale: US
  nolintlint:
    allow-unused: false # report any unused nolint directives
    require-explanation: false # don't require an explanation for nolint directives
    require-specific: false # don't require nolint directives to be specific about which linter is being skipped

linters:
  disable-all: true
  enable:
  - bodyclose
  - dogsled
  - dupl
  - exportloopref
  - funlen
  - gochecknoinits
  - goconst
  - gocyclo
  - gofmt
  - goimports
  - goprintffuncname
  - gosec
  - gosimple
  - govet
  - ineffassign
  - misspell
  - nakedret
  - nolintlint
  - staticcheck
  - stylecheck
  - typecheck
  - unconvert
  - unparam
  - unused
  - whitespace
  # don't enable:
  # - gomnd
  # - asciicheck
  # - depguard
  # - errcheck
  # - gochecknoglobals
  # - gocognit
  # - gocritic
  # - godot
  # - godox
  # - goerr113
  # - interfacer
  # - lll
  # - maligned
  # - nestif
  # - noctx
  # - prealloc
  # - revive
  # - scopelint
  # - testpackage
  # - wsl

issues:
  # Excluding configuration per-path, per-linter, per-text and per-source
  exclude-rules:
  - path: _test\.go
    linters:
    - gomnd

  - path: pkg/golinters/errcheck.go
    text: 'SA1019: errCfg.Exclude is deprecated: use ExcludeFunctions instead'
  - path: pkg/commands/run.go
    text: 'SA1019: lsc.Errcheck.Exclude is deprecated: use ExcludeFunctions instead'
  - path: pkg/commands/run.go
    text: 'SA1019: e.cfg.Run.Deadline is deprecated: Deadline exists for historical compatibility and should not be used.'

  - path: pkg/golinters/gofumpt.go
    text: 'SA1019: settings.LangVersion is deprecated: use the global `run.go` instead.'
  - path: pkg/golinters/staticcheck_common.go
    text: 'SA1019: settings.GoVersion is deprecated: use the global `run.go` instead.'
  - path: pkg/lint/lintersdb/manager.go
    text: 'SA1019: (.+).(GoVersion|LangVersion) is deprecated: use the global `run.go` instead.'

  - linters:
    - stylecheck
    text: 'ST1003: should not use underscores in package names'

run:
  # Timeout for analysis, e.g. 30s, 5m.
  # Default: 1m
  timeout: 5m

  # Include test files or not.
  # Default: true
  tests: false
  # Which dirs to skip: issues from them won't be reported.
  # Can use regexp here: `generated.*`, regexp is applied on full path.
  # Default value is empty list,
  # but default dirs are skipped independently of this option's value (see skip-dirs-use-default).
  # "/" will be replaced by current OS file path separator to properly work on Windows.
  # exclude-dirs:
  # - test/testdata_etc # test files
  # - internal/cache # extracted from Go code
  # - internal/renameio # extracted from Go code
  # - internal/robustio # extracted from Go code
